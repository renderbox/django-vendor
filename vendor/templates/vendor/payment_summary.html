{% extends "vendor/base.html" %}

{% block vendor_content %}
<div class='row mx-md-5 px-md-3'>
    <div class='col-12 my-4'>
        <h1>Purchase Confirmation</h1>
    </div>
    <div class='col-md-12 mb-3'>
        <span>Thank you for the order. You can view this invoice in "My Account" under the Billing section.</span>
    </div>
    <div class='col-md-12'>
        <span>The order number is: {{ object.pk }}</span>
    </div>
    <div class='col-md-12 mb-4'>
        <span>Ordered on {{ object.created|date }}</span>
    </div>
    <div class='col-md-12'>
        {% for order_item in object.order_items.all %}
        <div class='col-md-4 px-0 mb-3'>
            <h5>{{ order_item.name }}</h5>
            <p class="my-1">Type: {{ order_item.offer.get_terms_display }}</p>
            <p class="my-1">Quantity: {{ order_item.quantity }}</p>
            </span>
            <span>${{ order_item.total }}</span>
        </div>
        {% endfor %}
    </div>
    <div class='col-md-12 mb-3'>
        <h3 class="d-flex w-100 justify-content-start">Summary</h3>
        <div class="my-1 d-flex w-50">
            <span class="mr-auto">Subtotal</span>
            <span>${{invoice.subtotal}}</span>
        </div>
        <div class="my-1 d-flex w-50">
            <span class="mr-auto">Estimated Shipping</span>
            <span>${{invoice.shipping}}</span>
        </div>
        <div class="my-1 d-flex w-50">
            <span class="mr-auto">Estimated Tax</span>
            <span>${{invoice.tax}}</span>
        </div>
        <hr class="my-3 border-dark w-50 ml-0" />
        <div class="my-1 d-flex w-50">
            <span class="mr-auto font-weight-bolder">Total Charge</span>
            <span class="text-primary">${{invoice.total}}</span>
        </div>
    </div>
    <div class='col-md-12'>
        <h3>Billing Address</h3>
        <p>{{ object.get_payment_billing_address }}</p>
    </div>
    <div class='col-md-12'>
        <h3>Payment Method</h3>
        {% for payment in object.payments.all %}
        {% if payment.success == True %}
        <p>
            {{ payment.result.account_type }} ending {{ payment.result.account_number }}
        </p>
        {% endif %}
        {% endfor %}
    </div>
</div>
{% endblock %}